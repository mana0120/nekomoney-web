(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{734:function(e,t,s){Promise.resolve().then(s.bind(s,8829))},8829:function(e,t,s){"use strict";s.d(t,{default:function(){return n}});var l=s(7437),r=s(2265),o=s(231),a=s.n(o);function n(e){let{initialData:t}=e,[s,o]=(0,r.useState)(""),[n,i]=(0,r.useState)("ALL"),[d,c]=(0,r.useState)(""),[x,m]=(0,r.useState)(!1),[u,b]=(0,r.useState)(30),[h,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=sessionStorage.getItem("dictionaryBrowserState");if(e)try{let t=JSON.parse(e);void 0!==t.searchQuery&&o(t.searchQuery),void 0!==t.selectedCategory&&i(t.selectedCategory),void 0!==t.selectedYomi&&c(t.selectedYomi),void 0!==t.displayCount&&b(t.displayCount),void 0!==t.scrollPosition&&setTimeout(()=>{window.scrollTo(0,t.scrollPosition)},100)}catch(e){console.error("Failed to restore state",e)}f(!0)},[]),(0,r.useEffect)(()=>{let e=()=>{if(!h)return;let e={searchQuery:s,selectedCategory:n,selectedYomi:d,displayCount:u,scrollPosition:window.scrollY};sessionStorage.setItem("dictionaryBrowserState",JSON.stringify(e))};return window.addEventListener("beforeunload",e),()=>{e(),window.removeEventListener("beforeunload",e)}},[s,n,d,u,h]),(0,r.useEffect)(()=>{h&&(b(30),sessionStorage.removeItem("dictionaryBrowserState"))},[s,n,d,h]);let[p,g]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=6e4*new Date().getTimezoneOffset();g(new Date(Date.now()-e).toISOString().split("T")[0])},[]);let w=(0,r.useMemo)(()=>{let e={ALL:t.length};return t.forEach(t=>{let s=t.category||"生活・その他";e[s]=(e[s]||0)+1}),["投資","経済","金融","経営・財務","税金・制度","企業","人名","生活・その他"].forEach(t=>{t in e||(e[t]=0)}),e},[t]),j=(0,r.useMemo)(()=>{let e=t;if("ALL"!==n&&(e=e.filter(e=>(e.category||"生活・その他")===n)),d){if("英数字"===d)e=e.filter(e=>/^[A-Za-z0-9]/.test(e.word||""));else{let t={ア:/^[あ-おア-オ]/,カ:/^[か-ごカ-ゴ]/,サ:/^[さ-ぞサ-ゾ]/,タ:/^[た-どタ-ド]/,ナ:/^[な-のナ-ノ]/,ハ:/^[は-ぽハ-ポ]/,マ:/^[ま-もマ-モ]/,ヤ:/^[や-よヤ-ヨ]/,ラ:/^[ら-ろラ-ロ]/,ワ:/^[わ-んワ-ン]/}[d];t&&(e=e.filter(e=>t.test(e.yomi||"")))}e=[...e].sort((e,t)=>(e.yomi||e.word).localeCompare(t.yomi||t.word,"ja"))}if(s.trim()){let t=s.toLowerCase();e=e.filter(e=>e.word.toLowerCase().includes(t)||e.text.toLowerCase().includes(t)||e.yomi&&e.yomi.includes(t))}return e},[t,n,d,s]);return(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,l.jsx)("div",{className:"md:hidden block mb-[-1rem]",children:(0,l.jsxs)("button",{onClick:()=>m(!x),className:"w-full flex items-center justify-between bg-white px-5 py-3.5 rounded-xl border border-slate-200 shadow-sm font-bold text-slate-800 transition-colors hover:bg-slate-50",children:[(0,l.jsx)("span",{className:"flex items-center gap-2",children:"\uD83D\uDD0D 検索・絞り込みオプション"}),(0,l.jsx)("span",{className:"text-slate-500",children:x?"▲ 閉じる":"▼ 開く"})]})}),(0,l.jsxs)("aside",{className:"w-full md:w-64 flex-shrink-0 space-y-6 ".concat(x?"block":"hidden md:block"),children:[(0,l.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[(0,l.jsxs)("h2",{className:"font-bold text-slate-800 mb-3 text-sm flex items-center gap-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDD0D"})," 用語を検索"]}),(0,l.jsx)("input",{type:"text",placeholder:"キーワードや読みで検索...",className:"w-full p-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none text-sm bg-slate-50 transition-colors",value:s,onChange:e=>o(e.target.value)})]}),(0,l.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[(0,l.jsxs)("h2",{className:"font-bold text-slate-800 mb-3 text-sm flex items-center gap-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDCC2"})," カテゴリ"]}),(0,l.jsx)("ul",{className:"space-y-1.5",children:["ALL","投資","経済","金融","経営・財務","税金・制度","企業","人名","生活・その他"].map(e=>w[e]>0||"ALL"===e?(0,l.jsx)("li",{children:(0,l.jsxs)("button",{onClick:()=>{i(e),c(""),o("")},className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors flex justify-between items-center ".concat(n===e?"bg-blue-50 text-blue-700 font-bold":"text-slate-600 hover:bg-slate-50"),children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(n===e?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500"),children:w[e]||0})]})},e):null)})]}),(0,l.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[(0,l.jsxs)("h2",{className:"font-bold text-slate-800 mb-3 text-sm flex items-center gap-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDD24"})," 五十音・英数字で探す"]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[(0,l.jsx)("button",{onClick:()=>c(""),className:"px-3 py-1.5 text-xs rounded-md border font-medium transition-colors w-full mb-1 ".concat(""===d?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"),children:"すべて"}),["ア","カ","サ","タ","ナ","ハ","マ","ヤ","ラ","ワ","英数字"].map(e=>(0,l.jsx)("button",{onClick:()=>c(e),className:"w-10 h-10 flex items-center justify-center text-sm rounded-md border font-medium transition-colors ".concat(d===e?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"," ").concat("英数字"===e?"w-auto px-4 flex-1":""),children:e},e))]}),(0,l.jsx)("p",{className:"text-[10px] text-slate-400 mt-4 leading-relaxed",children:"※漢字の単語などは読み仮名が自動入力されていない場合があるため、見つからない時は検索窓をご活用ください。"})]})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-3",children:[(0,l.jsxs)("h1",{className:"text-2xl font-bold text-slate-800",children:["ALL"!==n?"".concat(n):"すべての用語",d&&(0,l.jsxs)("span",{className:"text-blue-600 ml-2 text-xl hover:bg-blue-50 px-2 py-1 rounded cursor-pointer",onClick:()=>c(""),children:["(",d,"行 ✕)"]})]}),(0,l.jsxs)("span",{className:"text-slate-500 font-medium bg-white px-3 py-1 rounded-full border border-slate-200 text-sm shadow-sm",children:[j.length," 件"]})]}),0===j.length?(0,l.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl border border-slate-200 shadow-sm px-4",children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDE3F"}),(0,l.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"対象の用語が見つかりませんでした"}),(0,l.jsx)("p",{className:"text-slate-500 text-sm",children:"検索キーワードを変えるか、別の絞り込み条件をお試しください。"}),(0,l.jsx)("button",{onClick:()=>{o(""),i("ALL"),c("")},className:"mt-4 px-4 py-2 bg-slate-100 text-slate-700 hover:bg-slate-200 rounded-lg text-sm font-medium transition-colors",children:"条件をクリアする"})]}):(0,l.jsx)("div",{className:"grid grid-cols-1 gap-4",children:j.slice(0,u).map((e,t)=>(0,l.jsxs)(a(),{href:"/word/".concat(encodeURIComponent(e.word)),className:"bg-white group rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-slate-200 p-5 sm:p-6 flex flex-col h-full",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-2 gap-4",children:[(0,l.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800 group-hover:text-blue-600 transition-colors flex items-center flex-wrap gap-2",children:[e.word,p&&e.date>=p&&(0,l.jsx)("span",{className:"text-[10px] border border-rose-200 text-rose-500 bg-rose-50 px-2 py-0.5 rounded-full font-medium tracking-wider relative -top-0.5",children:"NEW"})]}),(0,l.jsx)("span",{className:"text-xs font-mono text-slate-400 shrink-0 mt-1",children:e.date})]}),(0,l.jsx)("div",{className:"flex gap-2 mb-3",children:(0,l.jsx)("span",{className:"inline-block px-2.5 py-1 bg-blue-50 text-blue-700 text-xs font-semibold rounded-md",children:e.category||"生活・その他"})}),(0,l.jsx)("p",{className:"text-slate-600 text-sm sm:text-base line-clamp-2 leading-relaxed mb-4",children:e.text}),(0,l.jsx)("div",{className:"mt-auto pt-2 flex items-center text-blue-600 text-sm font-bold border-t border-slate-100",children:(0,l.jsxs)("span",{className:"mt-2",children:["詳細を読む ",(0,l.jsx)("span",{className:"ml-1 group-hover:translate-x-1 transition-transform inline-block",children:"→"})]})})]},"".concat(e.word,"-").concat(t)))}),j.length>u&&(0,l.jsx)("div",{className:"mt-8 text-center",children:(0,l.jsxs)("button",{onClick:()=>b(e=>e+30),className:"inline-flex items-center justify-center px-6 py-3 bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:text-blue-600 font-bold rounded-xl shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto min-w-[200px]",children:["もっと見る (",j.length-u,"件) ▼"]})})]})]})}}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=734)}),_N_E=e.O()}]);